<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/mathquiz.css">
    <link rel="stylesheet" href="./css/showhide.css">
    <script src="./js/mathQuiz.js" defer></script>
    <script src="./js/showhide.js" defer></script>
    <title>Math Quiz</title>
</head>
<body>

<div class="converter-container">
    <header>
        <a href="./index.html"><span class="homeColor">Home</span></a>
        <a class="aboutBtn" href="#"><span class="homeColor">About</span></a>
    </header>
    <div id="mQMain">
        <div id="titleArea">
            <h3 id="opText"></h3>
            <h1 class="title">Math Quiz <small>+ - x √∑</small></h1>
            <hr>
        </div>
            <div id="qArea">
                <p id="leftNum" class="mathText"></p>
                <p id="operator" class="mathText"></p>
                <p id="rightNum" class="mathText"></p>
                <p class="mathText">=</p>
            </div>  

            <div id="ansArea">
                <form method="post" action="somephp.php" id="answerForm">
                    <input id="answerField" type="text" name="answerField"  placeholder="answer" autocomplete="off">
                    <input class="btn" id="enterBtn" type="submit" name="submitAnswer" value="Enter">
                </form>
            </div>
            <hr>
        <div id="scoreArea">
            <div class="questionNumText">
                <p>Question:</p>
                <p id="questionNumber">1</p>
            </div>
            <div class="scoreText">
                <p>Score:</p>
                <p id="score">0</p>
            </div>
        </div>
        <div id="correctArea"></div>

     <hr>
     <div id="below">
        <h2>Scores</h2>
        <p>ü•î 1 pt for addition</p>
        <p>ü´í 2 pts for subtraction </p>
        <p>üçî 5 pts for multiplication</p>
        <p>üçï 10 pts for division</p>
     </div>
    </div>
</div>

<div class="aboutModal hidden">
    <button class="closeAboutModal">&times</button>
    <h1>Math Quiz</h1>
    <p>Math quiz is set up to randomly generate two numbers 
    along with a randomly generated operator so you never know
    what kind of question covering basic math you will get.
    This is adapted from a Java app I wrote. I still have to add
    an incorrect answer function, and a win state.
    </p><p>
    I made this with a combination of HTML, CSS and JS. 
    You can see the JavaScript by clicking the button below.
    </p>
</div><div class="aboutOverlay hidden"></div>

<div class="code">
    <button class="jsBtn" >See the Javascript.</button>
    <p><pre><code class="jsHidden hidden">
        <button class="closeJsModal">&times</button>
var score = 0;
var questionNum = 1;
const loopNum = 10;
const opArr = ["+", "-", "x", "√∑"];
let randOp = opArr[Math.floor(Math.random() * opArr.length)];
const correctText = document.createElement('div');
correctText.setAttribute('class', 'correctText');

function correct() {
    question(); 
    questionInc();
    document.getElementById('answerForm').reset();
}

function question() {
    leftNum = Math.floor(Math.random() * 10) + 1;
    randOp = opArr[Math.floor(Math.random() * opArr.length)];
    rightNum = Math.floor(Math.random() * 10) + 1;
    document.getElementById("leftNum").innerHTML = leftNum;
    document.getElementById("operator").innerHTML = randOp;
    document.getElementById("rightNum").innerHTML = rightNum;   
}

function displayCorrect() {
    correctText.textContent = "Correct";
    let disp = document.getElementById("correctArea").appendChild(correctText);
    setTimeout(function(){
        const element = disp;
        element.remove();
    }, 2000);
}

function scoreUpdate() {
    document.getElementById('score').innerHTML = score;
}

function questionInc() {
    questionNum++
    document.getElementById('questionNumber').innerHTML = questionNum;
}

document.getElementById('answerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    guts();
    if(score >= 25) {

    }
});

function guts() {
    
    let usrAnswer = parseFloat(document.getElementById('answerField').value);

    if(randOp === "+") {
        answer = (leftNum + rightNum);
        if(usrAnswer == answer) {
            correct();
            displayCorrect();
            score += 1;
            scoreUpdate();
        }
    }
    if(randOp === "-") {
        answer = (leftNum - rightNum);
        if(usrAnswer == answer) {
            correct();
            displayCorrect();
            score += 2;
            scoreUpdate();
        }
    }
    if(randOp === "x") {
        answer = (leftNum * rightNum);
        if(usrAnswer == answer) {
            correct();
            displayCorrect();
            score += 5;
            scoreUpdate();
        }
    }
    if(randOp === "√∑") {
        answer = (leftNum / rightNum).toFixed(2);
        console.log(answer);
        if(usrAnswer == answer) {
            correct();
            displayCorrect();
            score += 10;
            scoreUpdate();
        }
    }
}

question();
    </code></pre></p>
</div>
</body>
</html>