<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/oe.css">
    <link rel="stylesheet" href="./css/showhide.css">
    <script src="./js/passgen.js" defer></script>
    <script src="./js/showhide.js" defer></script>
    <title>Password Generator 9000</title>
</head>
<body>
    <div class="mainContain">
        <a class="links" href="index.html"><span class="homeColor">Home</span></a>
        <a class="aboutBtn" href="#"><span class="homeColor">About</span></a>
        <h1>Password Generator</h1>
        <p>How many characters?</p>
    
        <div class="container top">
    
            <form method="post" action="somephp.php" id="genrate">
                <input type="text" name="genrate" id="n_field" placeholder="characters" autocomplete="off">
                <input type="submit" name="genrate" value="Generate">
            </form>
        </div>
    
        <div class="container bottom" id="answer">
            <h2 class="invisible"></h2>
        </div>
    </div>

    <div class="aboutModal hidden">
        <button class="closeAboutModal">&times</button>
        <h1>Password Generator</h1>
        <p>This uses an array of all the alhpabet, number and special
        characters and combines them in a random order to give a unique
        password based on the number of characters entered.
        </p><p>
        I made this with a combination of HTML, CSS and JS. 
        Check out the JavaScript to see how it works by clicking the button below.
        </p>
    </div><div class="aboutOverlay hidden"></div>

    <div class="code">
        <button class="toggleBtn" >See the Javascript.</button>
        <p><pre><code class="jsHidden">
(function(){
    document.getElementById('genrate').addEventListener('submit', function(e){
        e.preventDefault();

        const chars = parseFloat(document.getElementById('n_field').value); //gets number from textfield
        const answer = document.getElementById('answer');

        if(chars) {
            const alpha = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h',
            'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 
            'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F',
            'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N',
            'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X','Y', 'Z',
            '0', '1', '2', '3', '4', '5', '6', '7', '8' ,'9',
            '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '-', '_', '=',
            '+', '[', ']', '{', '}', '|', '\\', ':',
            ';', '"', "'", '<', '>', ',', '.', '?', '/'];

            function generateRandomPassword(n_letters) {
            let final_pass = [];
            for (let ch = 1; ch <= n_letters; ch++) {
            final_pass.push(alpha[Math.floor(Math.random() * alpha.length)]);
            }
            // JavaScript arrays have a built-in method to shuffle
            final_pass.sort(() => Math.random() - 0.5);
            let final_rand_password = final_pass.join('');
            return final_rand_password;
            }

            answer.innerHTML = `<h2>${generateRandomPassword(chars)}</h2>`;
        } 

        else {
            answer.innerHTML = '<h2>Enter a number</h2>';
        }
    });

})();
        </code></pre></p>
    </div>
</body>
</html>